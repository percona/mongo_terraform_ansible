# Deploy hardware for MongoDB clusters using Terraform 

## Pre-requisites

1. Clone this repository on your machine and `cd` to it

    ```
    cd mongo_terraform_ansible
    ```

2. Go to your desired target platform e.g.

    ```
    cd gcp
    ```

2. Initialize Terraform 

    ```
    terraform init
    ```

## Quick guide

1. Prepare the configuration file

    ```
    vi variables.tf
    ```

2. Run Terraform to create resources

    ```
    terraform apply
    ``` 

3. Add the SSH configuration file generated by Terraform to your machine to connect easily. For example: 

    ```
    cat ssh_config >> ~/.ssh/config
    ```

    Modify the config as needed depending on your environment

- Look inside the [ansible](ansible) folder for instructions to complete the deployment of a complete MongoDB cluster

- The deployment of the resources required for a 2 shard cluster with Terraform takes around 1 minute